"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var s,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var u=e.length-1;0<=u;u--)(s=e[u])&&(a=(i<3?s(a):3<i?s(t,r,a):s(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a},__spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),s=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,s++)o[s]=i[a];return o};exports.__esModule=!0;var core_1=require("@angular/core"),forms_1=require("@angular/forms"),angular2_signaturepad_1=require("angular2-signaturepad"),PurchaseRequastAdminComponent=function(){function e(e,t,r,o){this.productService=e,this.messageService=t,this.confirmationService=r,this.fb=o,this.signaturePadOptions={minWidth:2,canvasWidth:300,canvasHeight:100},this.products=[{productId:11,productName:"Computer",productDesc:"High Config",purposeOfIssue:"damage",departCode:"002",requestingReport:"Yes",itemDescription:"Very High",datePreviousIssue:"01/04/2023",previousIssueQty:5,estimatedValue:55555533,empSign:"sign",quanity:5}],this.categoryOpt=[{name:"accounts",code:"accounts"},{name:"admini",code:"admini"},{name:"human resourse",code:"human resourse"}]}return e.prototype.ngOnInit=function(){var t=this;this.purchaseRequastForm=this.fb.group({productId:["",[forms_1.Validators.required]],productName:["",[forms_1.Validators.required]],productDesc:["",[forms_1.Validators.required]],purposeOfIssue:["",[forms_1.Validators.required]],departCode:["",[forms_1.Validators.required]],requestingReport:["",[forms_1.Validators.required]],itemDescription:["",[forms_1.Validators.required]],datePreviousIssue:["",[forms_1.Validators.required]],previousIssueQty:["",[forms_1.Validators.required]],estimatedValue:["",[forms_1.Validators.required]],empSign:["",[forms_1.Validators.required]],quanity:["",[forms_1.Validators.required]]}),this.productService.getAllProducts().subscribe(function(e){return t.products=e})},Object.defineProperty(e.prototype,"f",{get:function(){return this.purchaseRequastForm.controls},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.signaturePad.set("minWidth",2),this.signaturePad.clear()},e.prototype.drawComplete=function(){console.log(this.signaturePad.toDataURL())},e.prototype.drawStart=function(){console.log("begin drawing")},e.prototype.clearSignature=function(){this.signaturePad.clear()},e.prototype.savePad=function(){var e=this.signaturePad.toDataURL();this.signatureImg=e,console.log(this.signatureImg)},e.prototype.openNew=function(){this.product={},this.submitted=!1,this.productDialog=!0},e.prototype.deleteSelectedProducts=function(){var e=this;this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:function(){e.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})},e.prototype.editProduct=function(e){this.purchaseRequastForm.patchValue(e),this.productDialog=!0},e.prototype.deleteProduct=function(t){var e=this;this.confirmationService.confirm({message:"Are you sure you want to delete "+t.productName+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:function(){e.products=e.products.filter(function(e){return e.productId!==t.productId}),e.product={},e.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}})},e.prototype.hideDialog=function(){this.productDialog=!1,this.submitted=!1},e.prototype.onSubmit=function(){var t=this;this.submitted=!0,console.log(this.purchaseRequastForm.value),this.purchaseRequastForm.invalid||(this.products=__spreadArrays([this.products],this.purchaseRequastForm.value),this.productService.addProduct(this.purchaseRequastForm.value).subscribe(function(e){e?(t.products.push(t.purchaseRequastForm.value),t.messageService.add({severity:"success",summary:"Product successfully added to the catalog",detail:"Via MessageService"})):t.messageService.add({severity:"success",summary:"Product could not be Added to the catalog : Check Specification of your product",detail:"Via MessageService"})}))},e.prototype.findIndexById=function(e){for(var t=-1,r=0;r<this.products.length;r++)if(this.products[r].productId===e){t=r;break}return t},e.prototype.createId=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<5;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},__decorate([core_1.ViewChild(angular2_signaturepad_1.SignaturePad)],e.prototype,"signaturePad"),e=__decorate([core_1.Component({selector:"app-purchase-requast-admin",templateUrl:"./purchase-requast-admin.component.html",styleUrls:["./purchase-requast-admin.component.css"]})],e)}();exports.PurchaseRequastAdminComponent=PurchaseRequastAdminComponent;
//# sourceMappingURL=purchase-requast-admin.component.min.js.map
