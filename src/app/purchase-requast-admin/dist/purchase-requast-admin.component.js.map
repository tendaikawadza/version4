{"version":3,"sources":["purchase-requast-admin.component.ts"],"names":[],"mappings":"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","file":"purchase-requast-admin.component.js","sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ConfirmationService, MessageService } from 'primeng/api';\nimport { Stock } from '../model/stock';\nimport { StockService } from '../service/stock.service';\nimport { SignaturePad } from 'angular2-signaturepad';\n@Component({\n  selector: 'app-purchase-requast-admin',\n  templateUrl: './purchase-requast-admin.component.html',\n  styleUrls: ['./purchase-requast-admin.component.css']\n})\nexport class PurchaseRequastAdminComponent implements OnInit {\n  purchaseRequastForm: FormGroup;\n  signatureImg: string;\n  @ViewChild(SignaturePad) signaturePad: SignaturePad;\n\n  signaturePadOptions: Object = { \n    'minWidth': 2,\n    'canvasWidth': 300,\n    'canvasHeight': 100\n  };\n  productDialog: boolean;\n\n  products = [\n    {\n      productId: 11,\n      productName: 'Computer',\n      productDesc: 'High Config',\n      purposeOfIssue:'damage',\n      departCode: '002',\n      requestingReport: 'Yes',\n      itemDescription: 'Very High',\n      datePreviousIssue: '01/04/2023',\n      previousIssueQty: 5,\n      estimatedValue: 55555533,\n      empSign: 'sign',\n      quanity: 5\n    }\n    ];\n  categoryOpt = [\n    { name: 'accounts', code: 'accounts' },\n    { name: 'admini', code: 'admini' },\n    { name: 'human resourse', code: 'human resourse' },\n\n  ];\n\n  product: any;\n\n  selectedProducts: Stock[];\n\n  submitted: boolean;\n\n  constructor(private productService: StockService, private messageService: MessageService,\n    private confirmationService: ConfirmationService, private fb: FormBuilder) { }\n\n  ngOnInit() {\n    this.purchaseRequastForm = this.fb.group({\n      productId: ['', [Validators.required]],\n      productName: ['', [Validators.required]],\n      productDesc: ['', [Validators.required]],\n      purposeOfIssue: ['', [Validators.required]],\n      departCode: ['', [Validators.required]],\n      requestingReport: ['', [Validators.required]],\n      itemDescription: ['', [Validators.required]],\n      datePreviousIssue: ['', [Validators.required]],\n      previousIssueQty: ['', [Validators.required]],\n      estimatedValue: ['', [Validators.required]],\n      empSign: ['', [Validators.required]],\n      quanity: ['', [Validators.required]]\n    });\n    this.productService.getAllProducts().subscribe(data => this.products = data);\n  }\n  get f(): any {\n    return this.purchaseRequastForm.controls;\n  }\n  ngAfterViewInit() {\n    // this.signaturePad is now available\n    this.signaturePad.set('minWidth', 2); \n    this.signaturePad.clear(); \n  }\n\n  drawComplete() {\n    console.log(this.signaturePad.toDataURL());\n  }\n\n  drawStart() {\n    console.log('begin drawing');\n  }\n\n  clearSignature() {\n    this.signaturePad.clear();\n  }\n\n  savePad() {\n    const base64Data = this.signaturePad.toDataURL();\n    this.signatureImg = base64Data;\n    console.log(this.signatureImg);\n  }\n\n  openNew() {\n    this.product = {};\n    this.submitted = false;\n    this.productDialog = true;\n  }\n\n  deleteSelectedProducts() {\n    this.confirmationService.confirm({\n      message: 'Are you sure you want to delete the selected products?',\n      header: 'Confirm',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => {\n        //this.products = this.products.filter(val => !this.selectedProducts.includes('');\n        this.messageService.add({ severity: 'success', summary: 'Successful', detail: 'Products Deleted', life: 3000 });\n      }\n    });\n  }\n\n  editProduct(product: Stock) {\n    this.purchaseRequastForm.patchValue(product);\n    this.productDialog = true;\n  }\n\n  deleteProduct(product: Stock) {\n    this.confirmationService.confirm({\n      message: 'Are you sure you want to delete ' + product.productName + '?',\n      header: 'Confirm',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => {\n        this.products = this.products.filter(val => val.productId !== product.productId);\n        this.product = {};\n        this.messageService.add({ severity: 'success', summary: 'Successful', detail: 'Product Deleted', life: 3000 });\n      }\n    });\n  }\n\n  hideDialog() {\n    this.productDialog = false;\n    this.submitted = false;\n  }\n\n  onSubmit() {\n    this.submitted = true;   \n    console.log(this.purchaseRequastForm.value)\n   \n    if (this.purchaseRequastForm.invalid) {\n      return\n    }\n    this.products = [this.products, ...this.purchaseRequastForm.value];\n   \n    this.productService.addProduct(this.purchaseRequastForm.value).subscribe((data: any) => {\n      if (data) {\n        this.products.push(this.purchaseRequastForm.value);\n        this.messageService.add({ severity: 'success', summary: 'Product successfully added to the catalog', detail: 'Via MessageService' });\n      }\n      else {\n        this.messageService.add({ severity: 'success', summary: 'Product could not be Added to the catalog : Check Specification of your product', detail: 'Via MessageService' });\n      }\n\n    })\n    // if (this.product.productCode.trim()) {\n    //     if (this.product.productCode) {\n    //         this.products[this.findIndexById(this.product.productCode)] = this.product;\n    //         this.messageService.add({ severity: 'success', summary: 'Successful', detail: 'Product Updated', life: 3000 });\n    //     }\n    //     else {\n    //         this.product.productCode = this.createId();\n\n    //         this.messageService.add({ severity: 'success', summary: 'Successful', detail: 'Product Created', life: 3000 });\n    //     }\n\n    //     this.products = [...this.products];\n    //     this.productDialog = false;\n    //     this.product = {};\n    // }\n  }\n\n  findIndexById(id: number): number {\n    let index = -1;\n    for (let i = 0; i < this.products.length; i++) {\n      if (this.products[i].productId === id) {\n        index = i;\n        break;\n      }\n    }\n\n    return index;\n  }\n\n  createId(): string {\n    let id = '';\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n      id += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return id;\n  }\n}\n\n"]}